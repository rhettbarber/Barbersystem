console.log("begin partial store/update_specsheet.js.erb");

<% if params[:applicable] == '1' %>
                    console.log('applicable');
<% else %>
                    console.log('no applicable params');
<% end %>


 <% if params[:changed_object] == 'item' %>
                             console.log('1 params[:changed_object] == item');

                             <% if @singular_item %>
                                                          console.log('2 @singular item. no designs go with it. hide front.');

                                                        $('#specsheet_table').css('background-image', "url('')" );

                                                         //$('#specsheet_table').css('background-size', "auto 353px" );
                                                         //$('#specsheet_table').css('min-height', "353px" );
                                                         //$('#specsheet_table').css('min-width', "720px" );


                                                        $('#specsheet_table_front').hide();
                                                         $('#front_design_image').attr('src', '' );
                                                         $('#front_design_image').attr('alt', '' );
                                                         $('#front_advanced_combination_id').val("0");
                                                         $('#front_design_number_of_sides').val("<0");
                                                         $('#front_design_default_side').val("0");

                                                         //$('#back_design_td').css('display', 'none' );
                                                         $('#back_design_image').attr('src', '<%= @product_background_image_name %>' );
                                                         $('#back_advanced_combination_id').val("0");
                                                         $('#back_design_number_of_sides').val("<0");
                                                         $('#back_design_default_side').val("0");
                                                        $('#back_design_image').css('left', "0" );
                                                        $('#back_design_image').css('top', "0" );
                                                        //$('#back_design_image').css('height', "353" );
                                                        $('#back_design_image').css('width', "720" );




                                                        $('#specsheet_table').attr('data-main_design_breast_print_categories', "0"  )      ;
                                                        $('#specsheet_table').attr('data-design_potential_opposite_department_ids' , "0" )      ;
                                                        $('#specsheet_table').attr('data-design_opposite_category_ids', "0" )  ;
                                                        $('#specsheet_table').attr('data-main_design_id', "0" )      ;
                                                        $('#specsheet_table').attr('data-item_potential_opposite_department_ids', "0"  )      ;
                                                        $('#specsheet_table').attr('data-item_opposite_category_ids', "0"  )      ;
                             <% else %>

                                                        console.log('3 Master item,  designs go with it.');
                                                        console.log('Size 353 tall, 425 wide');


                                                        $('#specsheet_table').css('background-image', "url('<%= @product_background_image_name %>')" );
                                                        $('#specsheet_table_front').css('background-image', "url('<%= @product_background_image_name %>')" );


                                                        $('#specsheet_table').css('background-size', "auto 353px" );
                                                        $('#specsheet_table').css('min-height', "353px" );
                                                        $('#specsheet_table').css('min-width', "425px" );

                                                        console.log('Master item,  designs go with it. CASE showing front.');
                                                        $('#specsheet_table_front').show();
                                                        <% if @back_design and !@back_design .nil? and @back_design != '' %>
                                                                             console.log('4 @back_design FOUND');
                                                                            console.log('@back_design.ItemLookupCode: '  +  '<%=  @back_design_image_name %>'  );

                                                                            $('#back_design_image').attr('src','<%=  @back_design_image_name %>'    );
                                                                            $('#back_design_image').attr('alt',''    );
                                                                            $('#front_design_image').attr('src','<%=  @front_design_image_name %>'    );
                                                                            $('#front_design_image').attr('alt',''    );

                                                                            $('#specsheet_table').show();
                                                                            $('#back_design_td').show();
                                                                            $('#specsheet_table_front').show();
                                                                            $('#front_design_td').show();

                                                                            $('#specsheet_table').attr('data-main_design_breast_print_categories', "<%= @back_design.applicable_crest_print_ids  %>"  )      ;
                                                                             $('#specsheet_table').attr('data-design_potential_opposite_department_ids' , "<%= @back_design.category.potential_opposite_department_ids.to_a.join(',') %>" )      ;
                                                                             $('#specsheet_table').attr('data-design_opposite_category_ids', "<%= @back_design.category.category_class.opposite_category_ids %>" )  ;
                                                                            $('#specsheet_table').attr('data-main_design_id', "<%= @back_design.id %>" )      ;
                                                         <% else %>
                                                                             console.log('5  NO @back_design found');
                                                                             $('#back_design_td').css('display', 'none' );
                                                                             $('#front_design_td').css('display', 'none' );

                                                                             $('#specsheet_table').attr('data-main_design_breast_print_categories', "0"  )      ;
                                                                             $('#specsheet_table').attr('data-design_potential_opposite_department_ids' , "0" )      ;
                                                                             $('#specsheet_table').attr('data-design_opposite_category_ids', "0" )  ;
                                                                             $('#specsheet_table').attr('data-main_design_id', "0" )      ;
                                                        <% end %>
                                                        $('#specsheet_table').attr('data-item_id',<%= @item.id %> )      ;
                                                        $('#specsheet_table').attr('data-item_potential_opposite_department_ids', "<%= @item.category.potential_opposite_department_ids.to_a.join(',') %>"  )      ;
                                                        $('#specsheet_table').attr('data-item_opposite_category_ids', "<%= @item.category.category_class.opposite_category_ids %>"  )      ;
                             <% end %>
 <% else %>
                            console.log("6 changed_object not an item.. must be a design");
                            $('#back_design_image').attr('src', $('#selector_item').attr('src')    );
                            $('#back_design_image').attr('alt', $('#selector_item').attr('')    );
                            $('#back_advanced_combination_id').val("<%= @back_advanced_combination.id %>");
                            $('#back_design_number_of_sides').val("<%= @back_advanced_combination.number_of_sides %>");
                            $('#back_design_default_side').val("<%= @back_advanced_combination.default_side %>");
                            $('#back_design_image').css('left', "<%= @back_advanced_combination.back_left %>" );
                            $('#back_design_image').css('top', "<%= @back_advanced_combination.back_top %>" );
                            $('#back_design_image').css('width', "<%= @back_advanced_combination.back_width %>" );
                            <% if  @back_design and !@back_design .nil?  and @back_design != '' %>
                                                console.log("7 found @back_design");
                                            $('#specsheet_table').attr('data-main_design_breast_print_categories', "<%= @back_design.applicable_crest_print_ids  %>"  )      ;
                                            $('#specsheet_table').attr('data-design_potential_opposite_department_ids' , "<%= @back_design.category.potential_opposite_department_ids.to_a.join(',') %>" )      ;
                                            $('#specsheet_table').attr('data-design_opposite_category_ids', "<%= @back_design.category.category_class.opposite_category_ids %>" )  ;
                                            $('#specsheet_table').attr('data-main_design_id', "<%= @back_design.id %>" )
                            <% end %>

                            <% if @front_design %>
                                                    console.log("8 found @back_design");
                                                    $('#front_design_image').attr('src', '<%= @front_design_image_name %>' );
                                                    $('#front_advanced_combination_id').val("<%= @front_advanced_combination.id %>");
                                                    $('#front_design_number_of_sides').val("<%= @front_advanced_combination.number_of_sides %>");
                                                    $('#front_design_default_side').val("<%= @front_advanced_combination.default_side %>");
                             <% else %>
                                                    console.log("9 @front_design not found");
                             <% end %>
 <% end %>


updateDesignsMenu();
collapseNavBar();
closeAndCleanModal();



console.log("end partial store/update_specsheet.js.erb");

































 <% if @console %>
//                    $('#specsheet_table').css('background-image', "url('<%= @product_background_image_name %>')" );
//                    $('#specsheet_table_front').css('background-image', "url('<%= @product_background_image_name %>')" );


console.log("UPDATE_SPECSHEET.JS.ERB NOT DOING ANYTHING YET");
console.log('@applicable: <%= @applicable.inspect %>');
console.log('@new_item: <%= @new_item.ItemLookupCode   if @new_item %>');
console.log('@product_background_image_name: <%= @product_background_image_name.inspect %>');
console.log('@front_design: <%= @front_design.ItemLookupCode if @front_design  %>');
console.log('@back_advanced_combination: <%= @back_advanced_combination.inspect %>');
console.log('@front_advanced_combination: <%= @front_advanced_combination.inspect %>');
console.log('@front_design_image_name: <%= @front_design_image_name.inspect %>');
console.log('@back_design_image_name: <%= @back_design_image_name.inspect %>');
console.log('@product_background_image_name: <%= @product_background_image_name.inspect %>');
// params[:changed_object]:   +  <%=  params[:changed_object] %> ) ;
<% end %>
